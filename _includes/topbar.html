<!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb" class="d-none d-lg-block">
      {% assign paths = page.url | split: '/' %}

      {% if paths.size == 0 or page.layout == 'home' %}
        <!-- index page -->
        <span style="color: var(--link-color);"><i class="fas fa-home"></i></span>

      {% else %}
        {% for item in paths %}
          {% if forloop.first %}
            <span>
              <a href="{{ '/' | relative_url }}" style="color: var(--link-color);">
                <i class="fas fa-home"></i>
              </a>
            </span>

          {% elsif forloop.last %}
            {% if page.collection == 'tabs' %}
              <span>{{ site.data.locales[include.lang].tabs[item] | default: page.title }}</span>
            {% else %}
              <span>{{ page.title }}</span>
            {% endif %}

          {% elsif page.layout == 'category' or page.layout == 'tag' %}
            <span>
              <a href="{{ item | append: '/' | relative_url }}">
                {{- site.data.locales[include.lang].tabs[item] | default: page.title -}}
              </a>
            </span>
          {% endif %}
        {% endfor %}
      {% endif %}
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <a href="{{ '/' | relative_url }}" class="text-decoration-none ms-1 d-lg-none" style="color: var(--link-color);" aria-label="Home">
      <i class="fas fa-home"></i>
    </a>

    <div id="topbar-title">
      <!-- Always show site name on mobile/tablet, including home page -->
      emadyounis.com
    </div>

    <div class="d-flex align-items-center">
      <button type="button" id="mode-toggle" class="mode-toggle me-3" role="switch" aria-label="Toggle dark mode">
        <i class="fas fa-sun fa-fw sun-icon" aria-hidden="true"></i>
        <i class="fas fa-moon fa-fw moon-icon" aria-hidden="true"></i>
      </button>

      <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
        <i class="fas fa-search fa-fw"></i>
      </button>

      <search id="search" class="align-items-center">
        <i class="fas fa-search fa-fw"></i>
        <input
          class="form-control"
          id="search-input"
          type="search"
          aria-label="search"
          autocomplete="off"
          placeholder="{{ site.data.locales[include.lang].search.hint | capitalize }}..."
        >
      </search>
      <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">
        {{- site.data.locales[include.lang].search.cancel -}}
      </button>
    </div>
  </div>
</header>
